<!-- Form thêm mới người dùng -->
<% if(!data) { %>
<form action="/post-crud" method="post">
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="inputEmail4">Email</label>
            <input type="email" class="form-control" id="email" name="email">
        </div>
        <div class="form-group col-md-6">
            <label for="inputPassword4">Password</label>
            <input type="password" class="form-control" id="password" name="password">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="inputFirstName">First Name</label>
            <input type="text" class="form-control" id="firstName" name="firstName">
        </div>
        <div class="form-group col-md-6">
            <label for="inputLastName">Last Name</label>
            <input type="text" class="form-control" id="lastName" name="lastName">
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-6">
            <label for="inputPhone">Phone Number</label>
            <input type="text" class="form-control" id="phoneNumber" name="phoneNumber">
        </div>
        <div class="form-group col-md-6">
            <label for="gender">Gender</label>
            <select id="gender" name="gender" class="form-control">
                <option selected value="0">Male</option>
                <option value="1">Female</option>
            </select>
        </div>
        <div class="form-group col-md-6">
            <label for="role">Role</label>
            <select id="roleId" name="roleId" class="form-control">
                <option selected value="1">Admin</option>
                <option value="2">Doctor</option>
                <option value="3">Patient</option>
            </select>
        </div>
    </div>

    <!-- ✅ Thêm trường Address -->
    <div class="form-group">
        <label for="inputAddress">Address</label>
        <input type="text" class="form-control" id="address" name="address" placeholder="1234 Main St">
    </div>

    <button type="submit" class="btn btn-primary">Sign in</button>
</form>
<% } %>


<!-- Bảng danh sách người dùng -->
<body>
<table style="width:100%">
    <tr>
        <th>Email</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Address</th>
        <th>Action</th>
    </tr>
    <% for(let i = 0; i < datalist.length; i++){ %>
    <tr>
        <td><%= datalist[i].email %></td>
        <td><%= datalist[i].firstName %></td>
        <td><%= datalist[i].lastName %></td>
        <td><%= datalist[i].address %></td>
        <td>
            <a href="/edit-crud?id=<%= datalist[i].id %>">Edit</a> ||
            <a href="/delete-crud?id=<%= datalist[i].id %>">Delete</a>
        </td>
    </tr>
    <% } %>
</table>
</body>

<!-- Form cập nhật người dùng -->
<% if(data) { %>
<div class="container">
    <div class="row">
        <form action="/put-crud" method="post">
            <input type="hidden" id="id" name="id" value="<%= data.id %>">
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputFirstName">First Name</label>
                    <input type="text" class="form-control" id="firstName" name="firstName" value="<%= data.firstName %>">
                </div>
                <div class="form-group col-md-6">
                    <label for="inputLastName">Last Name</label>
                    <input type="text" class="form-control" id="lastName" name="lastName" value="<%= data.lastName %>">
                </div>
            </div>
            <div class="form-group">
                <label for="inputAddress">Address</label>
                <input type="text" class="form-control" id="address" placeholder="1234 Main St" name="address" value="<%= data.address %>">
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
        </form>
    </div>
</div>
<% } %>
